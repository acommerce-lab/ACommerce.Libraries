using ACommerce.Accounting.Core.Enums;
using ACommerce.SharedKernel.Abstractions.Entities;

namespace ACommerce.Accounting.Core.Entities;

/// <summary>
/// ?????? ????????
/// </summary>
public class Account : IBaseEntity
{
	public Guid Id { get; set; }
	public DateTime CreatedAt { get; set; }
	public DateTime? UpdatedAt { get; set; }
	public bool IsDeleted { get; set; }

	/// <summary>
	/// ???? ???? ????????
	/// </summary>
	public Guid ChartOfAccountsId { get; set; }
	public ChartOfAccounts? ChartOfAccounts { get; set; }

	/// <summary>
	/// ?????
	/// </summary>
	public required string Name { get; set; }

	/// <summary>
	/// ????? (???? ?? ???? ?????? ???: 1-01-001)
	/// </summary>
	public required string Code { get; set; }

	/// <summary>
	/// ??? ??????
	/// </summary>
	public AccountType Type { get; set; }

	/// <summary>
	/// ????? ??????
	/// </summary>
	public AccountNature Nature { get; set; }

	/// <summary>
	/// ?????
	/// </summary>
	public string? Description { get; set; }

	/// <summary>
	/// ???? ?????? ???? (null ???????? ???????)
	/// </summary>
	public Guid? ParentAccountId { get; set; }
	public Account? ParentAccount { get; set; }

	/// <summary>
	/// ???????? ???????
	/// </summary>
	public List<Account> SubAccounts { get; set; } = new();

	/// <summary>
	/// ?? ?????? ????? (Leaf)?
	/// ???????? ???????? ??? ???? ??????? ?????
	/// </summary>
	public bool IsLeaf { get; set; } = true;

	/// <summary>
	/// ?? ???? ???????? ????????
	/// </summary>
	public bool AllowPosting { get; set; } = true;

	/// <summary>
	/// ??????? (Level) ?? ??????
	/// 0 ?????? 1 ??????? ?????? ?????
	/// </summary>
	public int Level { get; set; }

	/// <summary>
	/// ???? ???? ??????? ?????????
	/// </summary>
	public Guid? DefaultCostCenterId { get; set; }
	public CostCenter? DefaultCostCenter { get; set; }

	/// <summary>
	/// ?? ????? ???? ??????
	/// </summary>
	public bool RequiresCostCenter { get; set; }

	/// <summary>
	/// ?? ????
	/// </summary>
	public bool IsActive { get; set; } = true;

	/// <summary>
	/// ??????? ??????
	/// </summary>
	public Dictionary<string, string> Metadata { get; set; } = new();

	/// <summary>
	/// ????? ?????? ???????? ???? ??????
	/// </summary>
	public List<EntrySide> EntrySides { get; set; } = new();
}

