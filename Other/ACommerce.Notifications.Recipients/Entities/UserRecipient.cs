using System.ComponentModel.DataAnnotations.Schema;
using ACommerce.SharedKernel.Abstractions.Entities;
using System.ComponentModel.DataAnnotations.Schema;

namespace ACommerce.Notifications.Recipients.Entities;

/// <summary>
/// ????? ????????? (????????)
/// </summary>
public class UserRecipient : IBaseEntity
{
	public Guid Id { get; set; }
	public DateTime CreatedAt { get; set; }
	public DateTime? UpdatedAt { get; set; }
	public bool IsDeleted { get; set; }

	/// <summary>
	/// ???? ???????? ?? ???? ????????
	/// </summary>
	public required string UserId { get; init; }

	/// <summary>
	/// ????? ?????? (???????)
	/// </summary>
	public string? FullName { get; set; }

	/// <summary>
	/// ????? ??????? (ISO 639-1: ar, en)
	/// </summary>
	public string PreferredLanguage { get; set; } = "en";

	/// <summary>
	/// ??????? ??????? (IANA Time Zone)
	/// </summary>
	public string TimeZone { get; set; } = "UTC";

	/// <summary>
	/// ???? ???????
	/// </summary>
	public List<ContactPoint> ContactPoints { get; init; } = new();

	/// <summary>
	/// ????????? ???? ????? ????? ????????
	/// </summary>
	public List<RecipientGroup> Groups { get; init; } = new();

	/// <summary>
	/// ??????? ?????? (???: department, role)
	/// </summary>
	[NotMapped]
	public Dictionary<string, string> Metadata { get; init; } = new();

	/// <summary>
	/// ?? ???????? ????
	/// </summary>
	public bool IsActive { get; set; } = true;
}

