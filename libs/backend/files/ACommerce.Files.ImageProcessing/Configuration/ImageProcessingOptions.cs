// Configuration/ImageProcessorSettings.cs
using System.ComponentModel.DataAnnotations;

namespace ACommerce.Files.ImageProcessing.Configuration;

/// <summary>
/// ??????? ????? ????? (??????? ????? - appsettings.json)
/// </summary>
public class ImageProcessorSettings
{
	public const string SectionName = "Files:ImageProcessing";

	/// <summary>
	/// ???? ?????? ?????
	/// </summary>
	[Range(100, 10000)]
	public int MaxWidth { get; set; } = 1920;

	/// <summary>
	/// ???? ?????? ????????
	/// </summary>
	[Range(100, 10000)]
	public int MaxHeight { get; set; } = 1080;

	/// <summary>
	/// ??? ?????? ???????
	/// </summary>
	[Range(50, 500)]
	public int ThumbnailSize { get; set; } = 150;

	/// <summary>
	/// ???? ?????? (1-100)
	/// </summary>
	[Range(1, 100)]
	public int DefaultQuality { get; set; } = 85;

	/// <summary>
	/// ???? ?????? ???????
	/// </summary>
	[Range(1, 100)]
	public int ThumbnailQuality { get; set; } = 75;

	/// <summary>
	/// ?? ??? ????? ??? WebP ?????????
	/// </summary>
	public bool ConvertToWebP { get; set; } = true;

	/// <summary>
	/// ?? ??????? ???????
	/// </summary>
	public string? WatermarkText { get; set; }

	/// <summary>
	/// ??? ?? ??????? ???????
	/// </summary>
	[Range(10, 100)]
	public int WatermarkFontSize { get; set; } = 24;

	/// <summary>
	/// ?????? ??????? ??????? (0-1)
	/// </summary>
	[Range(0.0, 1.0)]
	public float WatermarkOpacity { get; set; } = 0.5f;

	/// <summary>
	/// ???? ??????? ???????
	/// </summary>
	public WatermarkPosition WatermarkPosition { get; set; } = WatermarkPosition.BottomRight;
}

public enum WatermarkPosition
{
	TopLeft,
	TopCenter,
	TopRight,
	MiddleLeft,
	MiddleCenter,
	MiddleRight,
	BottomLeft,
	BottomCenter,
	BottomRight
}

