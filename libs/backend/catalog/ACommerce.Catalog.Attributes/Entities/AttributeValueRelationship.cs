using System.ComponentModel.DataAnnotations.Schema;
using ACommerce.Catalog.Attributes.Enums;
using ACommerce.SharedKernel.Abstractions.Entities;
using System.ComponentModel.DataAnnotations.Schema;

namespace ACommerce.Catalog.Attributes.Entities;

/// <summary>
/// ??????? ??? ?????? ?? ??? ???????
/// ???: ??? ? ?????
/// </summary>
public class AttributeValueRelationship : IBaseEntity
{
	public Guid Id { get; set; }
	public DateTime CreatedAt { get; set; }
	public DateTime? UpdatedAt { get; set; }
	public bool IsDeleted { get; set; }

	/// <summary>
	/// ?????? ???? (???: ?????)
	/// </summary>
	public Guid ParentValueId { get; set; }
	public AttributeValue? ParentValue { get; set; }

	/// <summary>
	/// ?????? ????? (???: ???)
	/// </summary>
	public Guid ChildValueId { get; set; }
	public AttributeValue? ChildValue { get; set; }

	/// <summary>
	/// ??? ???????
	/// </summary>
	public RelationshipType Type { get; set; }

	/// <summary>
	/// ????? ??????? (????? Conversion ???)
	/// ???: 1 ???? = 1000 ????
	/// </summary>
	public decimal? ConversionFactor { get; set; }

	/// <summary>
	/// ?????? ??????? (??????? ???????)
	/// ???: Celsius to Fahrenheit = (value * 9/5) + 32
	/// </summary>
	public string? ConversionFormula { get; set; }

	/// <summary>
	/// ??????? ??????
	/// </summary>
	[NotMapped]
	public Dictionary<string, string> Metadata { get; set; } = new();
}

