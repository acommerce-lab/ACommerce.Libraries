@inherits LayoutComponentBase

<div class="app-layout driver-layout">
    <header class="app-header">
        <div class="header-content">
            <a href="/" class="header-logo">
                <i class="bi bi-bicycle"></i>
                <span>تطبيق السائق</span>
            </a>
            <div class="header-status">
                <span class="status-badge online">متصل</span>
            </div>
        </div>
    </header>

    <main class="app-content">
        @Body
    </main>

    <nav class="app-nav bottom-nav">
        <a href="/" class="nav-item">
            <i class="bi bi-house"></i>
            <span>الرئيسية</span>
        </a>
        <a href="/orders" class="nav-item">
            <i class="bi bi-box-seam"></i>
            <span>الطلبات</span>
        </a>
        <a href="/scan" class="nav-item scan-btn">
            <i class="bi bi-qr-code-scan"></i>
        </a>
        <a href="/earnings" class="nav-item">
            <i class="bi bi-wallet2"></i>
            <span>الأرباح</span>
        </a>
        <a href="/profile" class="nav-item">
            <i class="bi bi-person"></i>
            <span>حسابي</span>
        </a>
    </nav>
</div>

<style>
    .driver-layout {
        --primary: #3B82F6;
        --primary-dark: #2563EB;
    }

    .app-layout {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        background: var(--background, #EFF6FF);
    }

    .app-header {
        background: var(--primary);
        color: white;
        padding: 1rem;
        padding-top: calc(1rem + env(safe-area-inset-top));
        position: sticky;
        top: 0;
        z-index: 100;
    }

    .header-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
        max-width: 1200px;
        margin: 0 auto;
    }

    .header-logo {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: white;
        text-decoration: none;
        font-size: 1.25rem;
        font-weight: 600;
    }

    .status-badge {
        padding: 0.25rem 0.75rem;
        border-radius: 1rem;
        font-size: 0.75rem;
        font-weight: 600;
    }

    .status-badge.online {
        background: #22C55E;
        color: white;
    }

    .status-badge.offline {
        background: #EF4444;
        color: white;
    }

    .app-content {
        flex: 1;
        padding: 1rem;
        padding-bottom: calc(5rem + env(safe-area-inset-bottom));
        max-width: 1200px;
        margin: 0 auto;
        width: 100%;
    }

    .bottom-nav {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: white;
        display: flex;
        justify-content: space-around;
        align-items: flex-end;
        padding: 0.5rem;
        padding-bottom: calc(0.5rem + env(safe-area-inset-bottom));
        box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        z-index: 100;
    }

    .nav-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-decoration: none;
        color: var(--text-secondary, #6B7280);
        font-size: 0.7rem;
        padding: 0.25rem 0.5rem;
    }

    .nav-item i {
        font-size: 1.2rem;
        margin-bottom: 0.2rem;
    }

    .nav-item:hover,
    .nav-item.active {
        color: var(--primary);
    }

    .nav-item.scan-btn {
        background: var(--primary);
        color: white;
        width: 56px;
        height: 56px;
        border-radius: 50%;
        margin-top: -1.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
    }

    .nav-item.scan-btn i {
        font-size: 1.5rem;
        margin-bottom: 0;
    }

    .nav-item.scan-btn span {
        display: none;
    }
</style>
