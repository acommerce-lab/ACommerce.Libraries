
تطبيقاتي
الإجراءات المطلوبة
الوثائق
الأدوات
الدعم
إدخال البحث
​
بحث...
Facebook
المستندات
‏أحداث تطبيق Meta‏
‏‎Getting Started‎‏
‏‎Android‎‏
‏أحداث تطبيق Meta‏
‏‎Overview‎‏
‏‎Getting Started‎‏
‏‎Android‎‏
‏‎In-App Subscription and Purchase Verification‎‏
‏‎Verification Credentials‎‏
‏نظام iOS‏
‏منصة Unity‏
‏‎Web‎‏
‏التسجيل التلقائي لحدث التطبيق‏
‏‎Guides‎‏
‏أفضل الممارسات‏
‏‎Reference‎‏
‏الأسئلة المتكررة‏
موضوعات هذه الصفحة
بدء استخدام أحداث التطبيقات (Android)
يوضح لك هذا الدليل كيفية إضافة أحداث التطبيق إلى تطبيقك الجديد أو الحالي من خلال دمج مجموعة Facebook SDK، ثم تسجيل هذه الأحداث.

قبل البدء
ستحتاج إلى ما يلي:

حساب مطوّر Meta
معرف تطبيق Meta
حساب إعلاني مرتبط بتطبيقك
تنفيذ مجموعة Facebook SDK في نظام Android
إضافة أحداث التطبيق
بعد دمج مجموعة Facebook SDK، يتم تسجيل بعض من أحداث التطبيق وتجميعها في مدير الأحداث، ما لم تقم بتعطيل التسجيل التلقائي لحدث التطبيق. يمكنك تغيير ذلك في رمز التطبيق أو عبر تبديل ضمن أحداث التطبيق في لوحة معلومات التطبيق أو مدير الأحداث. يُرجى ملاحظة أنه في حالة تضارب القيم بين علامة AutoLogAppEventsEnabled والتبديل، فسنعطي الأولوية للتبديل إلى استخدام "التسجيل التلقائي للأحداث في مجموعة Facebook SDK". للحصول على المزيد من التفاصيل حول المعلومات التي يتم تجميعها وكيفية تعطيل التسجيل التلقائي لحدث التطبيق، يمكنك الرجوع إلى التسجيل التلقائي لحدث التطبيق.

تتوفر ثلاث طرق لتتبع الأحداث في تطبيقك:

الأحداث المسجّلة تلقائيًا - يتم تسجيل عمليات تثبيت التطبيق وبدء استخدامه وعمليات الشراء داخل التطبيق تلقائيًا باستخدام مجموعة Facebook SDK.
أداة أحداث التطبيق بدون رمز برمجي - استخدم هذه الأداة لإضافة الأحداث القياسية دون الحاجة إلى إضافة رمز برمجي إلى تطبيقك.
الأحداث المسجّلة يدويًا - أضف رمزًا برمجيًا إلى تطبيقك لتتبع الأحداث القياسية والمخصصة.
الأحداث التي يتم تسجيلها تلقائيًا
عند استخدام مجموعة Facebook SDK، يتم تسجيل بعض الأحداث التي تتم في تطبيقك تلقائيًا ويتم تجميع بياناتها لاستخدامها في فيسبوك إلا إذا قمت بتعطيل التسجيل التلقائي للأحداث. تتعلق هذه الأحداث بكل حالات الاستخدام، مثل الاستهداف والقياس والتحسين. تتوفر ثلاثة أحداث رئيسية يتم تجميعها كجزء من التسجيل التلقائي لأحداث التطبيق وهما: تثبيت التطبيق، وتشغيل التطبيق، والشراء. وعند تمكين التسجيل التلقائي، يتمكّن المعلنون من تعطيل هذه الأحداث، بالإضافة إلى أحداث فيسبوك الداخلية الأخرى، مثل أحداث مرات ظهور تسجيل الدخول. مع ذلك، إذا قمت بتعطيل التسجيل التلقائي ولكنك لا تزال تريد تسجيل الأحداث الخاصة مثل أحداث التثبيت أو الشراء، فيجب تنفيذ التسجيل يدويًا لهذه الأحداث في تطبيقك.

الحدث	التفاصيل
تثبيت التطبيق

في المرة الأولى التي ينشط فيها شخص جديد تطبيقك أو في المرة الأولى التي يبدأ فيها تطبيقك على جهاز معين.

تشغيل التطبيق

عندما يُشغل شخص ما تطبيقك، تتم تهيئة مجموعة Facebook SDK ويتم تسجيل الحدث. ومع ذلك، في حالة حدوث حدث تشغيل تطبيق ثانٍ في غضون 60 ثانية من الحدث الأول، فلن يتم تسجيل حدث تشغيل التطبيق الثاني.

بالنسبة إلى مجموعة Facebook SDK لنظام التشغيل Android بالإصدار 4.18، والإصدارات السابقة، تُعد تهيئة مجموعة SDK عملية يدوية تختلف عن عملية تسجيل الأحداث اليدوية الموضحة في هذا المستند. يُرجى الترقية إلى إصدار مجموعة SDK الأحدث أو التمرير إلى قسم تهيئة مجموعة SDK القديمة لإضافة الأحداث يدويًا.

الشراء داخل التطبيق

التسجيل تلقائيًا عند اكتمال عملية شراء تمت معالجتها بواسطة Google Play. إذا كنت تستخدم منصات دفع أخرى، فأضف رمز حدث الشراء يدويًا.

للتحقق من تسجيل أحداث الشراء داخل التطبيق تلقائيًا، انتقل إلى بطاقة الإعدادات الأساسية > إعدادات Android في لوحة معلومات التطبيق.

تدعم مجموعة Android SDK حاليًا مكتبة الفوترة في Google Play من الإصدار 2 إلى الإصدار 7.

ملاحظة: إذا كنت ترغب في استخدام عمليات الشراء داخل التطبيق لقياس تحويلات الإعلانات الديناميكية، فيُرجى تعيين معرف المنتج في متجر App Store لدى Apple أو متجر Play store لدى Google ليكون مكافئًا لمعرف المنتج المستخدم في الإعلان الديناميكي المرتبط.

الاشتراكات داخل التطبيق وبدء الإصدار التجريبي

التسجيل تلقائيًا عند شراء اشتراك (أو بدء إصدار تجريبي) تتم معالجته بواسطة Google Play. يتم دعم الاشتراك التلقائي داخل التطبيق/تسجيل بدء الإصدار التجريبي لمكتبة الفوترة في Google Play من الإصدار 5 إلى الإصدار 7. لتمكين هذه الميزة، يجب تمكين عمليات الشراء داخل التطبيق (أعلاه) واتباع هذه التعليمات.

الإبلاغ عن الأعطال في مجموعة Facebook SDK

(للاستخدام في فيسبوك فقط.)	
إذا تعطل تطبيقك بسبب مجموعة Facebook SDK، فسيتم إنشاء بلاغ أعطال وإرساله إلى فيسبوك عند إعادة تشغيل التطبيق. لا يحتوي هذا البلاغ على أي بيانات مستخدم ويساعد فيسبوك في ضمان جودة وثبات مجموعة SDK. للرجوع عن تسجيل هذا الحدث، قم بتعطيل الأحداث المسجلة تلقائيًا.

الإبلاغ عن تطبيق لا يستجيب في مجموعة Facebook SDK

(للاستخدام في فيسبوك فقط.)	
إذا واجه تطبيقك خطأ "التطبيق لا يستجيب" (ANR) بسبب مجموعة Facebook SDK، يتم إنشاء بلاغ ANR وإرساله إلى فيسبوك عند إعادة تشغيل التطبيق. لا يحتوي هذا البلاغ على أي بيانات مستخدم ويساعد فيسبوك في ضمان جودة وثبات مجموعة SDK. للرجوع عن تسجيل هذا الحدث، قم بتعطيل الأحداث المسجلة تلقائيًا.

تعطيل الأحداث المسجلة تلقائيًا
لتعطيل الأحداث المسجلة تلقائيًا، أضف ما يلي إلى ملف AndroidManifest.xml لديك:

<application>
  ...
  <meta-data android:name="com.facebook.sdk.AutoLogAppEventsEnabled"
           android:value="false"/>
  ...
</application>
في بعض الحالات، قد ترغب في تأخير جمع الأحداث التي تم تسجيلها تلقائيًا، مثل الحصول على موافقة المستخدم أو الوفاء بالالتزامات القانونية، بدلاً من تعطيلها. وفي هذه الحالة، قم باستدعاء الأسلوب setAutoLogAppEventsEnabled() للفئة FacebookSDK وقم بتعيينها إلى true لإعادة تمكين تسجيل الأحداث بعدما يمنح المستخدم النهائي موافقته.

setAutoLogAppEventsEnabled(true);
لتعليق التسجيل مجددًا لأي سبب، قم بتعيين الأسلوب setAutoLogAppEventsEnabled() إلى false.

setAutoLogAppEventsEnabled(false);
يمكنك أيضًا تعطيل التسجيل التلقائي لأحداث الشراء داخل التطبيق باستخدام لوحة معلومات التطبيق. انتقل إلى بطاقة Android ضمن الإعدادات الأساسية > الإعدادات، ثم قم بتبديل المفتاح إلى لا.

تعطيل التهيئة التلقائية لمجموعة SDK
لتعطيل التهيئة التلقائية لمجموعة SDK، أضف ما يلي إلى ملف AndroidManifest.xml لديك:

<application>
  ...
  <meta-data android:name="com.facebook.sdk.AutoInitEnabled"
           android:value="false"/>
  ...
</application>
في بعض الحالات، قد ترغب في تأخير تهيئة مجموعة SDK، مثل الحصول على موافقة المستخدم أو الوفاء بالالتزامات القانونية، بدلاً من تعطيلها. في هذه الحالة، قم باستدعاء أسلوب الفئة setAutoInitEnabled وتعيينه إلى true لتشغيل مجموعة SDK يدويًا بعدما يمنح المستخدم النهائي موافقته.

FacebookSdk.setAutoInitEnabled(true)
FacebookSdk.fullyInitialize()
تعطيل تجميع معرفات المعلنين
لتعطيل تجميع advertiser-id، أضف ما يلي إلى ملف AndroidManifest.xml لديك:

<application>
  ...
  <meta-data android:name="com.facebook.sdk.AdvertiserIDCollectionEnabled"
           android:value="false"/>
  ...
</application>
في بعض الحالات، قد ترغب في تأخير تجميع advertiser_id، مثل الحصول على موافقة المستخدم أو تلبية الالتزامات القانونية، بدلاً من تعطيلها. وفي هذه الحالة، قم باستدعاء الأسلوب setAdvertiserIDCollectionEnabled() للفئة FacebookSDK وقم بتعيينها إلى true لإعادة تمكين تجميع advertiser_id بعدما يمنح المستخدم النهائي موافقته.

setAdvertiserIDCollectionEnabled(true);
لتعليق التجميع لأي سبب، قم بتعيين الأسلوب setAdvertiserIDCollectionEnabled() إلى false.

setAdvertiserIDCollectionEnabled(false);
تسجيل الأحداث يدويًا
قم بإنشاء كائن AppEventsLogger باستخدام أساليب أداة المساعدة لتسجيل الأحداث، حيث يكون this هو Activity الذي يتضمنه الأسلوب.

AppEventsLogger logger = AppEventsLogger.newLogger(this);
يمكنك حينها تسجيل الحدث إلى logger، حيث يكون AppEventConstants.EVENT_NAME_X هو إحدى القيم الثابتة المعروضة في جدول الأحداث القياسية أو من رمز أداة إنشاء الرموز.

logger.logEvent(AppEventsConstants.EVENT_NAME_X);
يمكنك أيضًا تحديد مجموعة من المعلمات في Bundle وخاصية valueToSum وهي عبارة عن رقم عشوائي قد يمثل أي قيمة، على سبيل المثال: سعر أو كمية. عند الإبلاغ عنها، يتم حساب إجمالي كل خواص valueToSum. على سبيل المثال، إذا اشترى 10 أشخاص عنصرًا واحدًا وكانت تكلفة كل عنصر 10 دولارات (وتم إدخاله في valueToSum)، فسيتم إضافتهم معًا للإبلاغ عن 100 دولار.

Bundle params = new Bundle();
params.putString(AppEventsConstants.EVENT_PARAM_CURRENCY, "USD");
params.putString(AppEventsConstants.EVENT_PARAM_CONTENT_TYPE, "product");
params.putString(AppEventsConstants.EVENT_PARAM_CONTENT, "[{\"id\": \"1234\", \"quantity\": 2}, {\"id\": \"5678\", \"quantity\": 1}]");

logger.logEvent(AppEventsConstants.EVENT_NAME_PURCHASE,
                54.23,
                params);
Bundle params = new Bundle();
params.putString(AppEventsConstants.EVENT_PARAM_CURRENCY, "USD");
params.putString(AppEventsConstants.EVENT_PARAM_CONTENT_TYPE, "product");
params.putString(AppEventsConstants.EVENT_PARAM_CONTENT_ID, "HDFU-8452");

logger.logEvent(AppEventsConstants.EVENT_NAME_ADDED_TO_CART,
                54.23,
                params);
لتسجيل حدث مخصص، ما عليك سوى تمرير اسم الحدث كسلسلة. تفترض هذه الوظيفة أن المسجل هو مثيل AppEventsLogger وقد تم إنشاؤه باستخدام الاستدعاء AppEventsLogger.newLogger().

public void logBattleTheMonsterEvent () {
    logger.logEvent("BattleTheMonster");
}
معلمات الأحداث
يمكن تسجيل كل حدث من خلال valueToSum ومجموعة تضم ما يصل إلى 25 معلمة. يتم إدخالها عبر Bundle حيث يحتفظ المفتاح باسم المعلمة والقيمة إما في صورة String أو int. إذا قدمت نوعًا آخر من القيم غير متوافق مثل boolean، تسجل مجموعة SDK تحذيرًا إلى LogginBehavior.APP_EVENT.

ارجع إلى دليل مرجع معلمات الحدث القياسي لمعرفة المعلمات المستخدمة بصفة أساسية مع الأحداث القياسية. تتوفر هذه المعلمات بغرض الإرشاد، ومع ذلك، يمكنك تقديم المعلمات الخاصة بك أيضًا.

إذا كنت ترغب في استخدام أحداث التطبيق لقياس تحويلات الإعلانات الديناميكية، فيُرجى تعيين المعلمة fb_content_id لتكون قيمة معرف المنتج المستخدم في الإعلان الديناميكي المرتبط.

لا تستخدم كلمة "event" كاسم معلمة. لن يتم تسجيل المعلمات المخصصة بالاسم "event". استخدم اسمًا آخر أو قم بإضافة بادئة أو لاحقة للاسم، مثل my_custom_event.

اختبار تسجيل الحدث
يتيح لك مساعد إعلانات التطبيق اختبار أحداث التطبيق في تطبيقك للتأكد من أن تطبيقك يرسل الأحداث إلى فيسبوك.

افتح مساعد إعلانات التطبيق.
من تحديد تطبيق، اختر تطبيقك ثم إرسال.
انتقل إلى الأسفل واختر اختبار أحداث التطبيق.
ابدأ تشغيل تطبيقك وأرسل حدثًا. يظهر الحدث في صفحة الويب.
تمكين سجلات تصحيح الأخطاء
يمكنك تمكين سجلات تصحيح الأخطاء للتحقق من استخدام حدث تطبيق من جانب العميل. تحتوي سجلات تصحيح الأخطاء على طلبات واستجابات JSON مفصلة. يمكنك تمكين سجلات تصحيح الأخطاء عن طريق إضافة الرمز البرمجي التالي بعد تهيئة مجموعة Facebook SDK لنظام التشغيل Android:

FacebookSdk.setIsDebugEnabled(true);
FacebookSdk.addLoggingBehavior(LoggingBehavior.APP_EVENTS);
يتم ذلك لأغراض تصحيح الأخطاء فقط. ويُرجى تعطيل سجلات تصحيح الأخطاء قبل نشر تطبيقك لدى العامة.

معرفة المزيد
لمزيد من المعلومات والتلميحات المفيدة حول أحداث التطبيق، اطلع على:

وثائق مرجع مجموعة Facebook SDK لنظام التشغيل Android
دليل أفضل الممارسات - يعرض مجموعة متنوعة من نماذج التطبيقات وكيف يعالج كل نموذج أحداث التطبيق.
الأسئلة المتكررة - الاطلاع على الأسئلة المتكررة
مدير الإعلانات - يعرض معلومات حول إعلاناتك.
مدير الأحداث - يعرض معلومات حول الأحداث التي تتبعها.
دورة Meta Blueprint التدريبية: تكوين مجموعة SDK وأحداث التطبيق في نظام Android
دورة Meta Blueprint التدريبية: استخدم أحداث التطبيق لأغراض الاستهداف والتحسين والقياس
أمثلة على التطبيقات
لقد أنشأنا بعض الأمثلة لأنواع التطبيقات المختلفة لنوضح لك كيف يمكنك استخدام أحداث التطبيق. ويوفر كل مثال من أمثلة التطبيقات تقسيمًا يعرض شاشة تلو الأخرى تضم أحداث مختلفة بأمثلة على الرموز البرمجية. من المهم ملاحظة أن هذه الأمثلة هي نقطة انطلاق لتطبيقك ويجب تخصيصها بواسطتك.

التجارة الإلكترونية والبيع بالتجزئة
السفر (فنادق)
السفر (طيران)
الألعاب (عادية)
الألعاب (إستراتيجية)
الألعاب (كازينو)
Meta
فيسبوكInstagramXLinkedInYouTube
الإنشاء من خلال Meta
الذكاء الاصطناعي
Meta Horizon
تقنيات التواصل الاجتماعي
الأخبار
Meta للمطوّرين
المدونة
قصص النجاح
الدعم
دعم المطوّرين
أداة الأخطاء
حالة المنصة
منتدى مجتمع المطوّرين
الإبلاغ عن حادث
نبذة عنا
حول
الوظائف
الشروط والسياسات
مبادرات المنصات المسؤولة
شروط المنصة
سياسات المطوّرين
سياسة الخصوصية
ملفات تعريف الارتباط
العربية
هل كان هذا المستند مفيدًا؟
نعملا
إزالة