[09:36:24 INF] Ashare API started successfully!
[09:36:24 INF] Swagger UI available at: http://localhost:3000
[09:36:24 INF] User profile is available. Using 'C:\Users\i\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[09:36:24 INF] [Notify Messaging] ?? Starting notification messaging handler
[09:36:24 INF] [Ashare] Subscribed to topic 'notify.commands.send'
[09:36:24 INF] [Notify Messaging] ? Notification messaging handler started
[09:36:24 INF] [Auth Messaging] ?? Starting handler with channels: InApp
[09:36:24 INF] [Ashare] Subscribed to topic 'auth.events.authentication.twofactorsucceeded'
[09:36:24 INF] [Ashare] Subscribed to topic 'auth.events.authentication.twofactorfailed'
[09:36:24 INF] [Ashare] Subscribed to topic 'auth.events.authentication.twofactorexpired'
[09:36:24 INF] [Auth Messaging] ? Handler started
[09:36:24 INF] Now listening on: http://0.0.0.0:8080
[09:36:24 INF] Application started. Press Ctrl+C to shut down.
[09:36:24 INF] Hosting environment: Development
[09:36:24 INF] Content root path: C:\Users\i\Source\Repos\ACommerce.Libraries\Apps\Ashare.Api
[09:36:29 INF] Request starting HTTP/1.1 GET http://localhost:8080/index.html - null null
[09:36:29 INF] Request finished HTTP/1.1 GET http://localhost:8080/index.html - 200 null text/html;charset=utf-8 169.193ms
[09:36:29 INF] Request starting HTTP/1.1 GET http://localhost:8080/_framework/aspnetcore-browser-refresh.js - null null
[09:36:29 INF] Request starting HTTP/1.1 GET http://localhost:8080/_vs/browserLink - null null
[09:36:29 INF] Request finished HTTP/1.1 GET http://localhost:8080/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 4.5112ms
[09:36:29 INF] Request finished HTTP/1.1 GET http://localhost:8080/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.4842ms
[09:36:29 INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
[09:36:30 INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 302.9471ms
[09:36:34 INF] Request starting HTTP/1.1 GET http://localhost:8080/api/listings?limit=50 - null null
[09:36:34 WRN] Failed to determine the https port for redirect.
[09:36:34 INF] Executing endpoint 'ACommerce.Catalog.Listings.Api.Controllers.ProductListingsController.GetAll (ACommerce.Catalog.Listings.Api)'
[09:36:34 INF] Route matched with {action = "GetAll", controller = "ProductListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ACommerce.Catalog.Listings.DTOs.ProductListingResponseDto]]] GetAll(Int32) on controller ACommerce.Catalog.Listings.Api.Controllers.ProductListingsController (ACommerce.Catalog.Listings.Api).
[09:36:34 WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
[09:36:34 INF] ProductListings cache is DISABLED
[09:36:34 INF] [START] SmartSearchQuery`2 (4d07d03b-8399-4101-9581-3f6068ec96cf)
[09:36:34 INF] Using SQL Server database
[09:36:35 WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
[09:36:50 ERR] An error occurred using the connection to database 'asharedb' on server '34.166.82.42'.
[09:36:50 ERR] An exception occurred while iterating over the results of a query for context type 'ACommerce.SharedKernel.Infrastructure.EFCores.Context.ApplicationDbContext'.
System.InvalidOperationException: Timeout expired.  The timeout period elapsed prior to obtaining a connection from the pool.  This may have occurred because all pooled connections were in use and max pool size was reached.
   at Microsoft.Data.Common.ADP.ExceptionWithStackTrace(Exception e)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Timeout expired.  The timeout period elapsed prior to obtaining a connection from the pool.  This may have occurred because all pooled connections were in use and max pool size was reached.
   at Microsoft.Data.Common.ADP.ExceptionWithStackTrace(Exception e)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[09:36:51 ERR] [ERROR] SmartSearchQuery`2 (4d07d03b-8399-4101-9581-3f6068ec96cf) failed after 16168ms
System.InvalidOperationException: Timeout expired.  The timeout period elapsed prior to obtaining a connection from the pool.  This may have occurred because all pooled connections were in use and max pool size was reached.
   at Microsoft.Data.Common.ADP.ExceptionWithStackTrace(Exception e)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ACommerce.SharedKernel.Infrastructure.EFCore.Repositories.BaseAsyncRepository`1.SmartSearchAsync(SmartSearchRequest request, CancellationToken cancellationToken) in C:\Users\i\Source\Repos\ACommerce.Libraries\libs\backend\core\ACommerce.SharedKernel.Infrastructure.EFCores\Repositories\BaseAsyncRepository.cs:line 213
   at ACommerce.SharedKernel.CQRS.Handlers.SmartSearchQueryHandler`2.Handle(SmartSearchQuery`2 request, CancellationToken cancellationToken) in C:\Users\i\Source\Repos\ACommerce.Libraries\libs\backend\core\ACommerce.SharedKernel.CQRS\Handlers\SmartSearchQueryHandler.cs:line 47
   at ACommerce.SharedKernel.CQRS.Behaviors.PerformanceBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\i\Source\Repos\ACommerce.Libraries\libs\backend\core\ACommerce.SharedKernel.CQRS\Behaviors\PerformanceBehavior.cs:line 29
   at ACommerce.SharedKernel.CQRS.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\i\Source\Repos\ACommerce.Libraries\libs\backend\core\ACommerce.SharedKernel.CQRS\Behaviors\ValidationBehavior.cs:line 31
   at ACommerce.SharedKernel.CQRS.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\i\Source\Repos\ACommerce.Libraries\libs\backend\core\ACommerce.SharedKernel.CQRS\Behaviors\LoggingBehavior.cs:line 37
[09:36:51 ERR] Error getting all listings
System.InvalidOperationException: Timeout expired.  The timeout period elapsed prior to obtaining a connection from the pool.  This may have occurred because all pooled connections were in use and max pool size was reached.
   at Microsoft.Data.Common.ADP.ExceptionWithStackTrace(Exception e)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ACommerce.SharedKernel.Infrastructure.EFCore.Repositories.BaseAsyncRepository`1.SmartSearchAsync(SmartSearchRequest request, CancellationToken cancellationToken) in C:\Users\i\Source\Repos\ACommerce.Libraries\libs\backend\core\ACommerce.SharedKernel.Infrastructure.EFCores\Repositories\BaseAsyncRepository.cs:line 213
   at ACommerce.SharedKernel.CQRS.Handlers.SmartSearchQueryHandler`2.Handle(SmartSearchQuery`2 request, CancellationToken cancellationToken) in C:\Users\i\Source\Repos\ACommerce.Libraries\libs\backend\core\ACommerce.SharedKernel.CQRS\Handlers\SmartSearchQueryHandler.cs:line 47
   at ACommerce.SharedKernel.CQRS.Behaviors.PerformanceBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\i\Source\Repos\ACommerce.Libraries\libs\backend\core\ACommerce.SharedKernel.CQRS\Behaviors\PerformanceBehavior.cs:line 29
   at ACommerce.SharedKernel.CQRS.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\i\Source\Repos\ACommerce.Libraries\libs\backend\core\ACommerce.SharedKernel.CQRS\Behaviors\ValidationBehavior.cs:line 31
   at ACommerce.SharedKernel.CQRS.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\i\Source\Repos\ACommerce.Libraries\libs\backend\core\ACommerce.SharedKernel.CQRS\Behaviors\LoggingBehavior.cs:line 37
   at ACommerce.Catalog.Listings.Api.Controllers.ProductListingsController.GetAll(Int32 limit) in C:\Users\i\Source\Repos\ACommerce.Libraries\libs\backend\catalog\ACommerce.Catalog.Listings.Api\Controllers\ProductListingsController.cs:line 96
[09:36:51 INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[09:36:51 INF] Executed action ACommerce.Catalog.Listings.Api.Controllers.ProductListingsController.GetAll (ACommerce.Catalog.Listings.Api) in 16358.9448ms
[09:36:51 INF] Executed endpoint 'ACommerce.Catalog.Listings.Api.Controllers.ProductListingsController.GetAll (ACommerce.Catalog.Listings.Api)'
[09:36:51 INF] Request finished HTTP/1.1 GET http://localhost:8080/api/listings?limit=50 - 500 null application/json; charset=utf-8 16440.7352ms
